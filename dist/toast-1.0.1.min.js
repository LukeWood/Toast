!function(t){"use strict";function e(t,e,n){function s(t,e){console.error("Toast Error: "+t+" in function '"+e+"'")}function o(t,e){var n=new XMLHttpRequest;return"undefined"!=typeof XDomainRequest&&(n=new XDomainRequest),n.open(t,e,!0),n}function a(){if(0==arguments.length)return void(this.debug&&s("No arguments passed.","parseArgs"));var t=arguments.length>=1?arguments[0]:null,e=arguments.length>=2?arguments[1]:null,n=arguments.length>=3?arguments[2]:null,o=arguments.length>=4?arguments[3]:null;return"object"==typeof arguments[0]?(this.debug&&console.log("Argument 0 is an object, arguments are being parsed as an object"),arguments[0].hasOwnProperty("callback")&&(e=arguments[0].callback),arguments[0].hasOwnProperty("fail")&&(n=arguments[0].fail),arguments[0].hasOwnProperty("url")&&(t=arguments[0].url),arguments[0].hasOwnProperty("params")&&(o=arguments[0].params)):this.debug&&console.log("Arguments are being passed in comma separated format."),"string"==typeof e&&(e=new Function("data",e)),"string"==typeof n&&(n=new Function("data",e)),"object"!=typeof o&&(o=null,this.debug&&s("params were not passed as an object","parseArgs")),{url:t,callback:e,fail:n,params:o}}function r(){function t(){4===u.readyState&&(200===u.status?null!=r&&"function"==typeof r&&r(u.responseText):null!=i&&"function"==typeof i?i(u.statusText):s("Request to "+n+" has failed ","get"))}var e=a.apply(this,arguments),n=e.url,r=e.callback,i=e.fail,u=this.crossOrigin?o("GET",n):new XMLHttpRequest;this.crossOrigin||u.open("GET",n),u.onreadystatechange=t,u.send()}function i(){var t=a.apply(this,arguments),e=t.url,n=t.callback,o=t.fail,i=this;r.call(this,e,function(t){try{var o=JSON.parse(t);n(o)}catch(t){s("JSON could not be parsed for url '"+e+"'","json"),i.debug&&console.error(t.message)}},o)}function u(t){var e="";for(var n in t)e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n])+"&";return e}function l(t){function e(){4===c.readyState&&(200===c.status?null!=r&&"function"==typeof r&&r(c.responseText):null!=i&&"function"==typeof i?i(c.statusText):s("Request to "+n+" has failed ","get"))}var t=a(t),n=t.url,r=t.callback,i=t.fail,l=t.params;"string"==typeof r&&(r=new Function("data",r)),"string"==typeof i&&(i=new Function("data",r));var c=this.crossOrigin?o("POST",n):new XMLHttpRequest;this.crossOrigin||c.open("POST",n),c.setRequestHeader("Content-type","applications/x-www-form-urlencoded"),c.onreadystatechange=e,c.send(u(l))}return this.crossOrigin=!1,this.debug=!1,window.XMLHttpRequest?(this[t]=r.bind(this),this[e]=i.bind(this),void(this[n]=l.bind(this))):void console.error("Toast needs XMLHttpRequest to work")}null==t||""===t?e.call(window,"get","getJSON","post"):window[t]=new e("get","getJSON","post")}("Toast");