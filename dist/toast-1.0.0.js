!function(t){"use strict";function e(t,e,n){function s(t,e){console.error("Toast Error: "+t+" in function '"+e+"'")}function o(t,e){var n=new XMLHttpRequest;return"undefined"!=typeof XDomainRequest&&(n=new XDomainRequest),n.open(t,e,!0),n}function a(){var t=arguments.length>=1?arguments[0]:null,e=arguments.length>=2?arguments[1]:null,n=arguments.length>=3?arguments[2]:null;return 0==arguments.length?void s("No arguments passed","get"):("object"==typeof arguments[0]&&(this.debug&&console.log("Argument 0 is an object, setting callback and fail accordingly."),arguments[0].hasOwnProperty("callback")&&(e=arguments[0].callback),arguments[0].hasOwnProperty("fail")&&(n=arguments[0].fail),arguments[0].hasOwnProperty("url")&&(t=arguments[0].url)),{url:t,callback:e,fail:n})}function i(){function t(){4===l.readyState&&(200===l.status?null!=i&&"function"==typeof i&&i(l.responseText):null!=r&&"function"==typeof r?r(l.statusText):s("Request to "+n+" has failed ","get"))}var e=a.apply(this,arguments),n=e.url,i=e.callback,r=e.fail,l=this.crossOrigin?o("GET",n):new XMLHttpRequest;this.crossOrigin||l.open("GET",n),l.onreadystatechange=t,l.send()}function r(){var t=a.apply(this,arguments),e=t.url,n=t.callback,o=t.fail,r=this;i.call(this,e,function(t){try{var o=JSON.parse(t);n(o)}catch(t){s("JSON could not be parsed for url '"+e+"'","json"),r.debug&&console.error(t.message)}},o)}function l(t){function e(){4===l.readyState&&(200===l.status?null!=a&&"function"==typeof a&&a(l.responseText):null!=i&&"function"==typeof i?i(l.statusText):s("Request to "+n+" has failed ","get"))}var n=t.url,a=t.callback,i=t.fail,r=t.params,l=this.crossOrigin?o("POST",n):new XMLHttpRequest;this.crossOrigin||l.open("POST",n),l.setRequestHeader("Content-type","applications/x-www-form-urlencoded"),l.onreadystatechange=e,l.send(r)}return this.crossOrigin=!1,this.debug=!1,window.XMLHttpRequest?(this[t]=i.bind(this),this[e]=r.bind(this),void(this[n]=l.bind(this))):void console.error("Toast needs XMLHttpRequest to work")}null==t||""===t?e.call(window,"get","getJSON","post"):window[t]=new e("get","getJSON","post")}("Toast");